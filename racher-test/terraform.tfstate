{
  "version": 4,
  "terraform_version": "1.3.3",
  "serial": 14,
  "lineage": "7c5a7e1a-accb-a088-6d4a-9f921ae5e3cb",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "rancher2_cloud_credential",
      "name": "foo",
      "provider": "provider[\"registry.terraform.io/rancher/rancher2\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazonec2_credential_config": [
              {
                "access_key": "AKIA5XKRA3XYNH33SHJZ",
                "default_region": "",
                "secret_key": "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"
              }
            ],
            "annotations": {},
            "azure_credential_config": [],
            "description": "foo test",
            "digitalocean_credential_config": [],
            "driver": "amazonec2",
            "google_credential_config": [],
            "harvester_credential_config": [],
            "id": "cattle-global-data:cc-d8g99",
            "labels": {
              "cattle.io/creator": "norman"
            },
            "linode_credential_config": [],
            "name": "foo",
            "openstack_credential_config": [],
            "s3_credential_config": [],
            "timeouts": null,
            "vsphere_credential_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "rancher2_cluster",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/rancher/rancher2\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "agent_env_vars": [],
            "aks_config": [],
            "aks_config_v2": [],
            "annotations": {
              "authz.management.cattle.io/creator-role-bindings": "{\"created\":[\"cluster-owner\"],\"required\":[\"cluster-owner\"]}"
            },
            "ca_cert": null,
            "cluster_auth_endpoint": [
              {
                "ca_certs": "",
                "enabled": false,
                "fqdn": ""
              }
            ],
            "cluster_monitoring_input": [],
            "cluster_registration_token": [
              {
                "annotations": {},
                "cluster_id": "c-646h9",
                "command": "kubectl apply -f https://rke-lb-1056065869.eu-west-2.elb.amazonaws.com/v3/import/mfcdj57vk8dbdb5gv98w74mpjjsbczbztcwh24l26qwptrnvhddqqx_c-646h9.yaml",
                "id": "c-646h9:default-token",
                "insecure_command": "curl --insecure -sfL https://rke-lb-1056065869.eu-west-2.elb.amazonaws.com/v3/import/mfcdj57vk8dbdb5gv98w74mpjjsbczbztcwh24l26qwptrnvhddqqx_c-646h9.yaml | kubectl apply -f -",
                "insecure_node_command": "",
                "insecure_windows_node_command": "",
                "labels": {
                  "cattle.io/creator": "norman"
                },
                "manifest_url": "https://rke-lb-1056065869.eu-west-2.elb.amazonaws.com/v3/import/mfcdj57vk8dbdb5gv98w74mpjjsbczbztcwh24l26qwptrnvhddqqx_c-646h9.yaml",
                "name": "default-token",
                "node_command": "sudo docker run -d --privileged --restart=unless-stopped --net=host -v /etc/kubernetes:/etc/kubernetes -v /var/run:/var/run  rancher/rancher-agent:v2.6.9 --server https://rke-lb-1056065869.eu-west-2.elb.amazonaws.com --token mfcdj57vk8dbdb5gv98w74mpjjsbczbztcwh24l26qwptrnvhddqqx --ca-checksum 0407c53de018a3ec19142dbf58a4ecca964f88c268ddc2a355c3bae5f939b3ee",
                "token": "mfcdj57vk8dbdb5gv98w74mpjjsbczbztcwh24l26qwptrnvhddqqx",
                "windows_node_command": "PowerShell -NoLogo -NonInteractive -Command \"\u0026 {docker run -v c:\\:c:\\host rancher/rancher-agent:v2.6.9 bootstrap --server https://rke-lb-1056065869.eu-west-2.elb.amazonaws.com --token mfcdj57vk8dbdb5gv98w74mpjjsbczbztcwh24l26qwptrnvhddqqx --ca-checksum 0407c53de018a3ec19142dbf58a4ecca964f88c268ddc2a355c3bae5f939b3ee | iex}\""
              }
            ],
            "cluster_template_answers": null,
            "cluster_template_id": null,
            "cluster_template_questions": null,
            "cluster_template_revision_id": null,
            "default_pod_security_policy_template_id": null,
            "default_project_id": "c-646h9:p-2pc7v",
            "description": "Name of the Kubernetes cluster",
            "desired_agent_image": null,
            "desired_auth_image": null,
            "docker_root_dir": "/var/lib/docker",
            "driver": "",
            "eks_config": [],
            "eks_config_v2": null,
            "enable_cluster_alerting": false,
            "enable_cluster_istio": null,
            "enable_cluster_monitoring": false,
            "enable_network_policy": false,
            "fleet_workspace_name": "fleet-default",
            "gke_config": [],
            "gke_config_v2": [],
            "id": "c-646h9",
            "istio_enabled": false,
            "k3s_config": [],
            "kube_config": "apiVersion: v1\nkind: Config\nclusters:\n- name: \"kubernetes\"\n  cluster:\n    server: \"https://rke-lb-1056065869.eu-west-2.elb.amazonaws.com/k8s/clusters/c-646h9\"\n    certificate-authority-data: \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJ2RENDQ\\\n      VdPZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQkdNUnd3R2dZRFZRUUtFeE5rZVc1aGJXbGoKY\\\n      kdsemRHVnVaWEl0YjNKbk1TWXdKQVlEVlFRRERCMWtlVzVoYldsamJHbHpkR1Z1WlhJdFkyRkFNV\\\n      FkyTnpVMgpNVFF6TWpBZUZ3MHlNakV4TURReE1UTXdNekphRncwek1qRXhNREV4TVRNd016SmFNR\\\n      Vl4SERBYUJnTlZCQW9UCkUyUjVibUZ0YVdOc2FYTjBaVzVsY2kxdmNtY3hKakFrQmdOVkJBTU1IV\\\n      1I1Ym1GdGFXTnNhWE4wWlc1bGNpMWoKWVVBeE5qWTNOVFl4TkRNeU1Ga3dFd1lIS29aSXpqMENBU\\\n      VlJS29aSXpqMERBUWNEUWdBRUVkU3R1cU42dU9BLwo3cmVsa0FpUlB1ZkMvWmVXSTl2b3dPNHhOO\\\n      EdEZW9XL2JLVHZ4cjlBY1haTGZFVUl3bnBRdnRWNkdncmcwbWttCjRkWXBiQXdsUjZOQ01FQXdEZ\\\n      1lEVlIwUEFRSC9CQVFEQWdLa01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWUQKVlIwT0JCWUVGQ\\\n      msrcTlqdCt3Nk1nTHNMUC9JQndZaHk5T2RtTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSURYdgo4V\\\n      Vc4a1dJRVNtcXFXMlM5TkVJaHBvYU1KdWh6ZGhsampSakhVV0NEQWlBUUd0RVM0WlYrOUdETHg3V\\\n      lhhQThYCmRSWlVWejRrVTFoOEY3WWRlNitDSnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t\"\n\nusers:\n- name: \"kubernetes\"\n  user:\n    token: \"kubeconfig-user-vlfbfczwsr:qttxkpvx7nfp4sd778fxnkhlw2fl9sspgp9bwp2cpr5rwc8bzdkzfc\"\n\n\ncontexts:\n- name: \"kubernetes\"\n  context:\n    user: \"kubernetes\"\n    cluster: \"kubernetes\"\n\ncurrent-context: \"kubernetes\"\n",
            "labels": {
              "cattle.io/creator": "norman"
            },
            "name": "kubernetes",
            "oke_config": [],
            "rke2_config": [],
            "rke_config": [
              {
                "addon_job_timeout": 45,
                "addons": "",
                "addons_include": null,
                "authentication": [
                  {
                    "sans": [],
                    "strategy": "x509"
                  }
                ],
                "authorization": [
                  {
                    "mode": null,
                    "options": null
                  }
                ],
                "bastion_host": [
                  {
                    "address": "",
                    "port": "",
                    "ssh_agent_auth": false,
                    "ssh_key": "",
                    "ssh_key_path": "",
                    "user": ""
                  }
                ],
                "cloud_provider": [
                  {
                    "aws_cloud_provider": [],
                    "azure_cloud_provider": [],
                    "custom_cloud_provider": "",
                    "name": "aws",
                    "openstack_cloud_provider": [],
                    "vsphere_cloud_provider": []
                  }
                ],
                "dns": [],
                "enable_cri_dockerd": false,
                "ignore_docker_version": true,
                "ingress": [
                  {
                    "default_backend": true,
                    "dns_policy": "",
                    "extra_args": {},
                    "http_port": 0,
                    "https_port": 0,
                    "network_mode": "",
                    "node_selector": {},
                    "options": {},
                    "provider": "nginx",
                    "tolerations": [],
                    "update_strategy": []
                  }
                ],
                "kubernetes_version": "v1.20.11-rancher1-1",
                "monitoring": [
                  {
                    "node_selector": {},
                    "options": {},
                    "provider": "metrics-server",
                    "replicas": 1,
                    "tolerations": [],
                    "update_strategy": []
                  }
                ],
                "network": [
                  {
                    "aci_network_provider": [],
                    "calico_network_provider": [],
                    "canal_network_provider": [],
                    "flannel_network_provider": [],
                    "mtu": 0,
                    "options": {
                      "flannel_backend_type": "vxlan"
                    },
                    "plugin": "flannel",
                    "tolerations": [],
                    "weave_network_provider": []
                  }
                ],
                "nodes": [],
                "prefix_path": "",
                "private_registries": [],
                "services": [
                  {
                    "etcd": [
                      {
                        "backup_config": [
                          {
                            "enabled": true,
                            "interval_hours": 12,
                            "retention": 6,
                            "s3_backup_config": [],
                            "safe_timestamp": false,
                            "timeout": 300
                          }
                        ],
                        "ca_cert": "",
                        "cert": "",
                        "creation": "12h",
                        "external_urls": [],
                        "extra_args": {
                          "election-timeout": "5000",
                          "heartbeat-interval": "500"
                        },
                        "extra_binds": [],
                        "extra_env": [],
                        "gid": 0,
                        "image": "",
                        "key": "",
                        "path": "",
                        "retention": "72h",
                        "snapshot": false,
                        "uid": 0
                      }
                    ],
                    "kube_api": [
                      {
                        "admission_configuration": [],
                        "always_pull_images": false,
                        "audit_log": [],
                        "event_rate_limit": [],
                        "extra_args": {},
                        "extra_binds": [],
                        "extra_env": [],
                        "image": "",
                        "pod_security_policy": false,
                        "secrets_encryption_config": [],
                        "service_cluster_ip_range": "",
                        "service_node_port_range": "30000-32767"
                      }
                    ],
                    "kube_controller": [
                      {
                        "cluster_cidr": null,
                        "extra_args": null,
                        "extra_binds": null,
                        "extra_env": null,
                        "image": null,
                        "service_cluster_ip_range": null
                      }
                    ],
                    "kubelet": [
                      {
                        "cluster_dns_server": "",
                        "cluster_domain": "",
                        "extra_args": {},
                        "extra_binds": [],
                        "extra_env": [],
                        "fail_swap_on": false,
                        "generate_serving_certificate": false,
                        "image": "",
                        "infra_container_image": ""
                      }
                    ],
                    "kubeproxy": [
                      {
                        "extra_args": null,
                        "extra_binds": null,
                        "extra_env": null,
                        "image": null
                      }
                    ],
                    "scheduler": [
                      {
                        "extra_args": null,
                        "extra_binds": null,
                        "extra_env": null,
                        "image": null
                      }
                    ]
                  }
                ],
                "ssh_agent_auth": false,
                "ssh_cert_path": "",
                "ssh_key_path": "",
                "upgrade_strategy": [
                  {
                    "drain": false,
                    "drain_input": [
                      {
                        "delete_local_data": false,
                        "force": false,
                        "grace_period": -1,
                        "ignore_daemon_sets": true,
                        "timeout": 120
                      }
                    ],
                    "max_unavailable_controlplane": "1",
                    "max_unavailable_worker": "10%"
                  }
                ],
                "win_prefix_path": ""
              }
            ],
            "scheduled_cluster_scan": null,
            "system_project_id": "c-646h9:p-6cfqn",
            "timeouts": null,
            "windows_prefered_cluster": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "rancher2_node_pool",
      "name": "masters",
      "provider": "provider[\"registry.terraform.io/rancher/rancher2\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {
              "lifecycle.cattle.io/create.nodepool-provisioner": "true",
              "nodepool.cattle.io/reconcile": ""
            },
            "cluster_id": "c-646h9",
            "control_plane": true,
            "delete_not_ready_after_secs": 0,
            "drain_before_delete": false,
            "etcd": true,
            "hostname_prefix": "master",
            "id": "c-646h9:master",
            "labels": {
              "cattle.io/creator": "norman"
            },
            "name": "master",
            "node_taints": [],
            "node_template_id": "cattle-global-nt:nt-hptrr",
            "quantity": 1,
            "timeouts": null,
            "worker": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "rancher2_cloud_credential.foo",
            "rancher2_cluster.cluster",
            "rancher2_node_template.foo"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "rancher2_node_pool",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/rancher/rancher2\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {
              "lifecycle.cattle.io/create.nodepool-provisioner": "true",
              "nodepool.cattle.io/reconcile": ""
            },
            "cluster_id": "c-646h9",
            "control_plane": false,
            "delete_not_ready_after_secs": 0,
            "drain_before_delete": false,
            "etcd": false,
            "hostname_prefix": "worker",
            "id": "c-646h9:worker",
            "labels": {
              "cattle.io/creator": "norman"
            },
            "name": "worker",
            "node_taints": [],
            "node_template_id": "cattle-global-nt:nt-hptrr",
            "quantity": 1,
            "timeouts": null,
            "worker": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "rancher2_cloud_credential.foo",
            "rancher2_cluster.cluster",
            "rancher2_node_template.foo"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "rancher2_node_template",
      "name": "foo",
      "provider": "provider[\"registry.terraform.io/rancher/rancher2\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazonec2_config": [
              {
                "access_key": "",
                "ami": "ami-0f540e9f488cfa27d",
                "block_duration_minutes": "0",
                "device_name": "/dev/sda1",
                "encrypt_ebs_volume": false,
                "endpoint": "",
                "http_endpoint": "",
                "http_tokens": "",
                "iam_instance_profile": "master_profile",
                "insecure_transport": false,
                "instance_type": "t2.micro",
                "keypair_name": "",
                "kms_key": "",
                "monitoring": false,
                "open_port": [],
                "private_address_only": false,
                "region": "eu-west-2",
                "request_spot_instance": false,
                "retries": "5",
                "root_size": "16",
                "secret_key": "",
                "security_group": [
                  "eu-west-2-aws_network-bastion-sg"
                ],
                "security_group_readonly": false,
                "session_token": "",
                "spot_price": "0.50",
                "ssh_keypath": "",
                "ssh_user": "ubuntu",
                "subnet_id": "subnet-0a5cff92348dec4a2",
                "tags": "",
                "use_ebs_optimized_instance": false,
                "use_private_address": false,
                "userdata": "#!/bin/bash\nsudo apt update \u0026\u0026 sudo apt -y full-upgrade\nsudo apt install curl gnupg2 apt-transport-https software-properties-common ca-certificates -y\n#DOCKER\ncurl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/docker-archive-keyring.gpg\necho \"deb [arch=amd64] https://download.docker.com/linux/debian bullseye stable\" | sudo tee  /etc/apt/sources.list.d/docker.list\nsudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io -y\nsudo usermod -aG docker $USER",
                "volume_type": "gp2",
                "vpc_id": "vpc-036e7e851fa92a6e7",
                "zone": "a"
              }
            ],
            "annotations": {
              "ownerBindingsCreated": "true"
            },
            "auth_certificate_authority": null,
            "auth_key": null,
            "azure_config": [],
            "cloud_credential_id": "cattle-global-data:cc-d8g99",
            "description": "foo test",
            "digitalocean_config": [],
            "driver": "amazonec2",
            "driver_id": "amazonec2",
            "engine_env": null,
            "engine_insecure_registry": null,
            "engine_install_url": "#!/bin/bash\nsudo apt update \u0026\u0026 sudo apt -y full-upgrade\nsudo apt install curl gnupg2 apt-transport-https software-properties-common ca-certificates -y\n#DOCKER\ncurl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/docker-archive-keyring.gpg\necho \"deb [arch=amd64] https://download.docker.com/linux/debian bullseye stable\" | sudo tee  /etc/apt/sources.list.d/docker.list\nsudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io -y\nsudo usermod -aG docker $USER",
            "engine_label": null,
            "engine_opt": null,
            "engine_registry_mirror": null,
            "engine_storage_driver": null,
            "harvester_config": [],
            "hetzner_config": [],
            "id": "cattle-global-nt:nt-hptrr",
            "labels": {
              "cattle.io/creator": "norman"
            },
            "linode_config": [],
            "name": "foo",
            "node_taints": [],
            "opennebula_config": [],
            "openstack_config": [],
            "outscale_config": [],
            "timeouts": null,
            "use_internal_ip_address": true,
            "vsphere_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "rancher2_cloud_credential.foo"
          ]
        }
      ]
    }
  ],
  "check_results": []
}
